<!DOCTYPE html>
<html>
  <head>
    <title>AR.js + WebM Alpha</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <link rel="stylesheet" href="style.css" />
    <script src="js/marker-video-controller.js" defer></script>
    <script src="js/ui-controls.js" defer></script>
    <script src="js/main.js" defer></script>
  </head>

  <!--UI Buttons -->
  <button id="clean-fullscreen-btn">â›¶</button>
  <button id="change-len-btn">ENG</button>

  <body style="margin: 0; overflow: hidden">
    <!-- AR SCENE -->
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      renderer="alpha: true; antialias: true;"
      arjs="sourceType: webcam; debugUIEnabled: false;"
    >
      <!-- DRAGO -->
      <a-assets id="drago_container">
        <video
          id="drago-video-ita"
          src="/media/drago/drago_ITA.webm"
          loop
          playsinline
          preload="metadata"
          crossorigin="anonymous"
        ></video>
        <video
          id="drago-video-eng"
          src="/media/drago/drago_ENG.webm"
          loop
          playsinline
          preload="metadata"
          crossorigin="anonymous"
        ></video>
      </a-assets>
      <a-marker
        type="pattern"
        url="/media/drago/pattern-drago.patt"
        smoothCount="0"
        smoothTolerance="0.0001"
      >
        <a-plane
          src="#drago-video-ita"
          width="10"
          height="10"
          position="0 0.01 0"
          rotation="-90 0 0"
          material="transparent: true; side: double; alphaTest: 0.001;"
        ></a-plane>
      </a-marker>

      <!-- BODHISATTVA -->
      <a-assets id="bod_container">
        <video
          id="bod-video-ita"
          src="/media/bod/bod_ITA.webm"
          loop
          playsinline
          preload="noe"
          crossorigin="anonymous"
        ></video>
        <video
          id="bod-video-eng"
          src="/media/bod/bod_ENG.webm"
          loop
          playsinline
          preload="none"
          crossorigin="anonymous"
        ></video>
      </a-assets>
      <a-marker
        type="pattern"
        url="/media/bod/pattern-bod.patt"
        smoothCount="0"
        smoothTolerance="0.0001"
      >
        <a-plane
          src="#bod-video-ita"
          width="10"
          height="10"
          position="0 0.01 0"
          rotation="-90 0 0"
          material="transparent: true; side: double; alphaTest: 0.001;"
        ></a-plane>
      </a-marker>

      <!-- LU -->
      <a-assets id="Lu">
        <video
          id="lu-video-ita"
          src="/media/lu/lu_ITA.webm"
          loop
          playsinline
          preload="none"
          crossorigin="anonymous"
        ></video>
        <video
          id="lu-video-eng"
          src="/media/lu/lu_ENG.webm"
          loop
          playsinline
          preload="none"
          crossorigin="anonymous"
        ></video>
      </a-assets>
      <a-marker
        type="pattern"
        url="/media/lu/pattern-lu.patt"
        smoothCount="0"
        smoothTolerance="0.0001"
      >
        <a-plane
          src="#lu-video-ita"
          width="10"
          height="10"
          position="0 0.01 0"
          rotation="-90 0 0"
          material="transparent: true; side: double; alphaTest: 0.001;"
        ></a-plane>
      </a-marker>

      <!-- TIGRE -->
      <a-assets id="Tigre">
        <video
          id="tigre-video-ita"
          src="/media/tiger/tigre_ITA.webm"
          loop
          playsinline
          preload="none"
          crossorigin="anonymous"
        ></video>
        <video
          id="tigre-video-eng"
          src="/media/tiger/tigre_ENG.webm"
          loop
          playsinline
          preload="none"
          crossorigin="anonymous"
        ></video>
      </a-assets>
      <a-marker
        type="pattern"
        url="/media/tiger/pattern-tigre.patt"
        smoothCount="0"
        smoothTolerance="0.0001"
      >
        <a-plane
          src="#tigre-video-ita"
          width="10"
          height="10"
          position="0 0.01 0"
          rotation="-90 0 0"
          material="transparent: true; side: double; alphaTest: 0.001;"
        ></a-plane>
      </a-marker>

      <!-- ZHO -->
      <a-assets id="zho">
        <video
          id="zho-video-ita"
          src="/media/zho/zho_ITA.webm"
          loop
          playsinline
          preload="none"
          crossorigin="anonymous"
        ></video>
        <video
          id="zho-video-eng"
          src="/media/zho/zho_ENG.webm"
          loop
          playsinline
          preload="none"
          crossorigin="anonymous"
        ></video>
      </a-assets>
      <a-marker
        type="pattern"
        url="/media/zho/pattern-zho.patt"
        smoothCount="0"
        smoothTolerance="0.0001"
      >
        <a-plane
          src="#zho-video-ita"
          width="10"
          height="10"
          position="0 0.01 0"
          rotation="-90 0 0"
          material="transparent: true; side: double; alphaTest: 0.001;"
        ></a-plane>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <div id="controls">
      <button id="open_tutorial" class="wrapper">Tutorial</button>

      <button id="settings">sottotitoli</button>
      <div class="backdrop" id="backdrop">
        <div class="dialog">
          <h2>Tutorial</h2>
          <ul>
            <li>Alzare il volume del telefono e acconsentire all'accesso della webcam</li>
            <li>Inquadrare gli ideogrammi presenti nelle vetrine e rimanere fermi</li>
            <li>Puoi cambiare la lingua tramite il pulsante in alto a destra e aggiungere i sottotitoli con il pulsante 
              blu in basso a sinistra
            </li>
          </ul>
          <button id="close" style="margin-top: 14px">Close</button>
        </div>
      </div>
    </div>
  </body>
</html>